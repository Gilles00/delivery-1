{% extends "base.html" %}
{% block title %}
  Shopping cart
{% endblock %}
{% block head %}
  {% load static %}
  <script type="text/javascript" src="{% static 'menu/menu_script.js' %}" defer></script>
  <script type="text/javascript" src="{% static 'orders/orders_script.js' %}" defer></script>
  <script type="text/javascript">
    const update_cart_url = "{% url 'menu:update_cart' %}"
  </script>
{% endblock %}
{% block content %}
Hey, I am a shopping cart page.
<div>
  {% if contents %}
   <ul>
      {% for item in contents %}
      <li>
        <div class="item_name">{{ item.name }}</div>
        <div class="item_amount">
          <div class="change-amount" data-action="decrease">-</div>
          <div>
            <span class="current_amount" data-item_id="{{ item.id }}">{{ item.amount }}</span>
            {# TODO - CSS selector for symbol #} x
            <span class="item_price">{{ item.price }}</span>
            =
            <span class="item_cost">{{ item.cost }}</span>
          </div>
          <div class="change-amount" data-action="increase">+</div>
          <button class="change-amount" data-action="remove">Remove</button>
        </div>
      </li>
      {% endfor %}
  </ul>
  <div id="bottom_cost">
    Food cost: <span id="food_cost">{{ request.session.cart_cost }}</span>
  </div>
  {% else %}
    <p>Your shopping cart is empty.</p>
  {% endif %}
</div>
<a href="{% url 'orders:checkout' %}">
  <button>Checkout</button>
</a>
{% endblock %}
